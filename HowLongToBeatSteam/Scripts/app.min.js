function Game(n){var t=this;t.known=n.HltbInfo.Id!==-1;t.steamAppId=n.SteamAppId;t.steamName=n.SteamName;t.steamPlaytime=n.Playtime;t.hltbInfo={id:n.HltbInfo.Id,name:n.HltbInfo.Name,mainTtb:t.known?n.HltbInfo.MainTtb:0,extrasTtb:t.known?n.HltbInfo.ExtrasTtb:0,completionistTtb:t.known?n.HltbInfo.CompletionistTtb:0,combinedTtb:t.known?n.HltbInfo.CombinedTtb:0,url:t.known?"http://www.howlongtobeat.com/game.php?id="+n.HltbInfo.Id:"http://www.howlongtobeat.com/search.php?t=games&s="+t.steamName,linkText:t.known?"Browse on HLTB":"Find on HLTB"}}function AppViewModel(){var n=this;n.steamId64=ko.observable("");n.games=ko.observableArray();n.processing=ko.observable(!1);n.error=ko.observable(null);n.howlongClicked=function(){n.processing(!0);n.games([]);$.get("api/games/library/"+n.steamId64()).done(function(t){n.games(ko.utils.arrayMap(t,function(n){return new Game(n)}));n.error(null)}).fail(function(t){console.error(t);n.error("Error - verify your Steam64Id and try again")}).always(function(){n.processing(!1)})};n.updateHltb=function(n){$.get("api/games/update/"+n.steamAppId+"?hltb="+n.hltbInfo.id);alert(n.steamAppId+"-"+n.hltbInfo.id)};n.total=ko.computed(function(){for(var t,r=0,u=0,f=0,e=0,o=0,s=n.games().length,h=n.games(),i=0;i<s;++i)t=h[i],r+=t.steamPlaytime,u+=t.hltbInfo.mainTtb,f+=t.hltbInfo.extrasTtb,e+=t.hltbInfo.completionistTtb,o+=t.hltbInfo.combinedTtb;return{totalPlaytime:r,totalMain:u,totalExtras:f,totalCompletionist:e,totalCombined:o}});n.formatDuration=function(n){n=Math.max(n,0);var t=Math.floor(n/60),i=n%60;return t+"h "+i+"m"}}$(document).ready(function(){if(!window.console){var n=function(){};window.console={log:n,warn:n,error:n}}ko.applyBindings(new AppViewModel);$("#steamIdText").focus()});
/*
//# sourceMappingURL=app.min.js.map
*/