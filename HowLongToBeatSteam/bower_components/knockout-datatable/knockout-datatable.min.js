(function(){var n=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};this.DataTable=function(){function i(n,t){var i;if(t||(n instanceof Array?t={}:(t=n,n=[])),this.options={recordWord:t.recordWord||"record",recordWordPlural:t.recordWordPlural,sortDir:t.sortDir||"asc",sortField:t.sortField||void 0,perPage:t.perPage||15,filterFn:t.filterFn||void 0,unsortedClass:t.unsortedClass||"",descSortClass:t.descSortClass||"",ascSortClass:t.ascSortClass||""},this.initObservables(),(i=t.serverSidePagination)&&i.enabled){if(!(i.path&&i.loader))throw new Error("`path` or `loader` missing from `serverSidePagination` object");this.options.paginationPath=i.path;this.options.resultHandlerFn=i.loader;this.initWithServerSidePagination()}else this.initWithClientSidePagination(n)}var r,t;return t=ko.pureComputed||ko.computed,r=function(n,t){return t==null?n==null:n!=null?typeof n=="boolean"?n===t:n.toString().toLowerCase().indexOf(t.toString().toLowerCase())>=0||n===t:!1},i.prototype.initObservables=function(){return this.sortDir=ko.observable(this.options.sortDir),this.sortField=ko.observable(this.options.sortField),this.perPage=ko.observable(this.options.perPage),this.currentPage=ko.observable(1),this.filter=ko.observable(""),this.loading=ko.observable(!1),this.rows=ko.observableArray([])},i.prototype.initWithClientSidePagination=function(i){var u;return this.filtering=ko.observable(!1),this.filter.subscribe(function(n){return function(){return n.currentPage(1)}}(this)),this.perPage.subscribe(function(n){return function(){return n.currentPage(1)}}(this)),this.rows(i),this.rowAttributeMap=t(function(n){return function(){var r,t,u;if(i=n.rows(),r={},i.length>0){u=i[0];for(t in u)u.hasOwnProperty(t)&&(r[t.toLowerCase()]=t)}return r}}(this)),this.filteredRows=t(function(n){return function(){var t,r;return n.filtering(!0),t=n.filter(),i=n.rows.slice(0),t!==""&&(r=n.filterFn(t),i=i.filter(r)),n.sortField()!=null&&n.sortField()!==""?i.sort(function(t,i){var r,u;return r=ko.utils.unwrapObservable(t[n.sortField()]),u=ko.utils.unwrapObservable(i[n.sortField()]),typeof r=="string"&&(r=r.toLowerCase()),typeof u=="string"&&(u=u.toLowerCase()),n.sortDir()==="asc"?r<u||r===""||r==null?-1:r>u||u===""||u==null?1:0:r<u||r===""||r==null?1:r>u||u===""||u==null?-1:0}):i,n.filtering(!1),i}}(this)).extend({rateLimit:50,method:"notifyWhenChangesStop"}),this.pagedRows=t(function(n){return function(){var t,i;return t=n.currentPage()-1,i=n.perPage(),n.filteredRows().slice(t*i,(t+1)*i)}}(this)),this.pages=t(function(n){return function(){return Math.ceil(n.filteredRows().length/n.perPage())}}(this)),this.leftPagerClass=t(function(n){return function(){if(n.currentPage()===1)return"disabled"}}(this)),this.rightPagerClass=t(function(n){return function(){if(n.currentPage()===n.pages())return"disabled"}}(this)),this.total=t(function(n){return function(){return n.filteredRows().length}}(this)),this.from=t(function(n){return function(){return(n.currentPage()-1)*n.perPage()+1}}(this)),this.to=t(function(n){return function(){var t;return t=n.currentPage()*n.perPage(),t>n.total()?n.total():t}}(this)),this.recordsText=t(function(n){return function(){var u,f,i,r,e,t;return f=n.pages(),t=n.total(),u=n.from(),e=n.to(),i=n.options.recordWord,r=n.options.recordWordPlural||i+"s",f>1?""+u+" to "+e+" of "+t+" "+r:""+t+" "+(t>1||t===0?r:i)}}(this)),this.showNoData=t(function(n){return function(){return n.pagedRows().length===0&&!n.loading()}}(this)),this.showLoading=t(function(n){return function(){return n.loading()}}(this)),this.sortClass=function(n){return function(i){return t(function(){return n.sortField()===i?"sorted "+(n.sortDir()==="asc"?n.options.ascSortClass:n.options.descSortClass):n.options.unsortedClass})}}(this),this.addRecord=function(n){return function(t){return n.rows.push(t)}}(this),this.removeRecord=function(n){return function(t){return n.rows.remove(t),n.pagedRows().length===0?n.prevPage():void 0}}(this),this.replaceRows=function(n){return function(t){return n.rows(t),n.currentPage(1),n.filter(void 0)}}(this),u=function(n,t,i){var u,f;return function(){var n=[];for(u in i)f=i[u],n.push(f);return n}().some(function(i){return r(ko.isObservable(t[i])?t[i]():t[i],n)})},this.filterFn=this.options.filterFn||function(t){return function(i){var f,e,o;return o=[[],{}],f=o[0],e=o[1],i.split(" ").forEach(function(n){var t;return n.indexOf(":")>=0?(t=n.split(":"),e[t[0]]=function(){switch(t[1].toLowerCase()){case"yes":case"true":return!0;case"no":case"false":return!1;case"blank":case"none":case"null":case"undefined":return void 0;default:return t[1].toLowerCase()}}()):f.push(n)}),f=f.join(" "),function(i){var s,o,h;return s=function(){var n=[];for(o in e)h=e[o],n.push(function(n){return function(t,u){var f;return(f=n.rowAttributeMap()[t.toLowerCase()])?r(ko.isObservable(i[f])?i[f]():i[f],u):!1}}(this)(o,h));return n}.call(t),n.call(s,!1)<0&&(f!==""?i.match!=null?i.match(f):u(f,i,t.rowAttributeMap()):!0)}}}(this)},i.prototype.initWithServerSidePagination=function(){var n,i;return i=function(n){return function(t,i){var u,r,f,e;return f=""+n.options.paginationPath+"?"+function(){var n=[];for(u in t)e=t[u],n.push(""+encodeURIComponent(u)+"="+encodeURIComponent(e));return n}().join("&"),r=new XMLHttpRequest,r.open("GET",f,!0),r.setRequestHeader("Content-Type","application/json"),r.onload=function(){return r.status>=200&&r.status<400?i(null,JSON.parse(r.responseText)):i(new Error("Error communicating with server"))},r.onerror=function(){return i(new Error("Error communicating with server"))},r.send()}}(this),n=function(n,t,i,r,u){var f;return f={perPage:n,page:t},i!=null&&i!==""&&(f.filter=i),r!=null&&r!==""&&u!=null&&u!==""&&(f.sortDir=r,f.sortBy=u),f},this.filtering=ko.observable(!1),this.pagedRows=ko.observableArray([]),this.numFilteredRows=ko.observable(0),this.filter.subscribe(function(n){return function(){return n.currentPage(1)}}(this)),this.perPage.subscribe(function(n){return function(){return n.currentPage(1)}}(this)),ko.computed(function(t){return function(){var r;return t.loading(!0),t.filtering(!0),r=n(t.perPage(),t.currentPage(),t.filter(),t.sortDir(),t.sortField()),i(r,function(n,i){var r,u;return(t.loading(!1),t.filtering(!1),n)?console.log(n):(u=i.total,r=i.results,t.numFilteredRows(u),t.pagedRows(r.map(t.options.resultHandlerFn)))})}}(this)).extend({rateLimit:500,method:"notifyWhenChangesStop"}),this.pages=t(function(n){return function(){return Math.ceil(n.numFilteredRows()/n.perPage())}}(this)),this.leftPagerClass=t(function(n){return function(){if(n.currentPage()===1)return"disabled"}}(this)),this.rightPagerClass=t(function(n){return function(){if(n.currentPage()===n.pages())return"disabled"}}(this)),this.from=t(function(n){return function(){return(n.currentPage()-1)*n.perPage()+1}}(this)),this.to=t(function(n){return function(){var t,i;return t=n.currentPage()*n.perPage(),t>(i=n.numFilteredRows())?i:t}}(this)),this.recordsText=t(function(n){return function(){var u,f,i,r,e,t;return f=n.pages(),t=n.numFilteredRows(),u=n.from(),e=n.to(),i=n.options.recordWord,r=n.options.recordWordPlural||i+"s",f>1?""+u+" to "+e+" of "+t+" "+r:""+t+" "+(t>1||t===0?r:i)}}(this)),this.showNoData=t(function(n){return function(){return n.pagedRows().length===0&&!n.loading()}}(this)),this.showLoading=t(function(n){return function(){return n.loading()}}(this)),this.sortClass=function(n){return function(i){return t(function(){return n.sortField()===i?"sorted "+(n.sortDir()==="asc"?n.options.ascSortClass:n.options.descSortClass):n.options.unsortedClass})}}(this),this.addRecord=function(){throw new Error("#addRecord() not applicable with serverSidePagination enabled");},this.removeRecord=function(){throw new Error("#removeRecord() not applicable with serverSidePagination enabled");},this.replaceRows=function(){throw new Error("#replaceRows() not applicable with serverSidePagination enabled");},this.refreshData=function(t){return function(){var r;return t.loading(!0),t.filtering(!0),r=n(t.perPage(),t.currentPage(),t.filter(),t.sortDir(),t.sortField()),i(r,function(n,i){var r,u;return(t.loading(!1),t.filtering(!1),n)?console.log(n):(u=i.total,r=i.results,t.numFilteredRows(u),t.pagedRows(r.map(t.options.resultHandlerFn)))})}}(this)},i.prototype.toggleSort=function(n){return function(t){return function(){return t.currentPage(1),t.sortField()===n?t.sortDir(t.sortDir()==="asc"?"desc":"asc"):(t.sortDir("asc"),t.sortField(n))}}(this)},i.prototype.prevPage=function(){var n;return n=this.currentPage(),n!==1?this.currentPage(n-1):void 0},i.prototype.nextPage=function(){var n;return n=this.currentPage(),n!==this.pages()?this.currentPage(n+1):void 0},i.prototype.gotoPage=function(n){return function(t){return function(){return t.currentPage(n)}}(this)},i.prototype.pageClass=function(n){return t(function(t){return function(){if(t.currentPage()===n)return"active"}}(this))},i}()}).call(this);
//# sourceMappingURL=knockout-datatable.min.js.map
