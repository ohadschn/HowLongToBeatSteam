<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>How long to beat Steam</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
</head>
    <body>
        <div class="page-header">
            <h1>How Long To Beat Steam</h1>
        </div>
        <ol>
            <li>Make sure you Steam profile is <a href="https://www.google.com/search?q=steam%20public%20profile" target="_blank">public</a></li>
            <li>Determine your <a href="https://www.google.com/search?q=steamid64" target="_blank">SteamId64</a></li>
            <li>Fill it out in the text box below and hit <kbd>Enter</kbd></li>
        </ol>
        <form data-bind="submit: howlongClicked" class="form-inline">
            <div data-bind="css: (badSteamId64() ? 'has-error ' : '') + 'has-feedback form-group'">
                <label class="control-label sr-only" for="steamIdText">Input with success</label>
                <input type="text" data-bind="value: steamId64" placeholder="SteamId64" id="steamIdText" class="form-control">
                <span class="glyphicon glyphicon-remove form-control-feedback" data-bind="visible: badSteamId64"></span>
            </div>
            <button type="submit" data-bind="enable: !processing()" class="btn btn-primary">Tell me how long</button>
            <strong data-bind="visible: error, text: error"></strong>
            <img src="http://cdnjs.cloudflare.com/ajax/libs/file-uploader/3.7.0/loading.gif" alt="loading..." data-bind="visible: processing" />
        </form>
        <br />
        <div class="alert alert-danger alert-dismissible" role="alert" id="notInCachesAlert" data-bind="visible: notInCache() && !notInCacheAlertHidden()">
            <button type="button" class="close" data-bind="click: hideNotInCacheAlert">
                <span aria-hidden="true">&times;</span>
                <span class="sr-only">Close</span>
            </button>
            <strong>Warning</strong> Some games haven't been cached by the site's engine yet - please check back later
        </div>
        <div class="alert alert-warning alert-dismissible" role="alert" data-bind="visible: missingIds() && !missingIdsAlertHidden()">
            <button type="button" class="close" data-bind="click: hideMissingIdsAlert">
                <span aria-hidden="true">&times;</span>
                <span class="sr-only">Close</span>
            </button>
            <strong>Note</strong> Some games are missing their HowLongToBeat (HLTB) IDs - please locate them on HLTB and update their IDs (embedded in the URL: http://www.howlongtobeat.com/game.php?id=<mark>XXXX</mark>)
        </div>
        <table class="table table-striped table-hover table-condensed table-responsive" data-bind="visible: games().length>0">
            <thead>
                <tr>
                    <th>AppId</th>
                    <th>Name</th>
                    <th>Playtime</th>
                    <th>Main</th>
                    <th>Main + Extras</th>
                    <th>Completionist</th>
                    <th>Combined</th>
                    <th>HLTB Name</th>
                    <th>HLTB ID</th>
                </tr>
            </thead>
            <tbody>
                <!-- ko foreach: games -->
                <tr data-bind="css: known ? '' : (inCache ? 'warning' : 'danger')">
                    <td data-bind="text: steamAppId"></td>
                    <td data-bind="text: steamName"></td>
                    <td data-bind="text: $parent.formatDuration(steamPlaytime)"></td>
                    <td data-bind="text: $parent.formatDuration($data.hltbInfo.mainTtb)"></td>
                    <td data-bind="text: $parent.formatDuration($data.hltbInfo.extrasTtb)"></td>
                    <td data-bind="text: $parent.formatDuration($data.hltbInfo.completionistTtb)"></td>
                    <td data-bind="text: $parent.formatDuration($data.hltbInfo.combinedTtb)"></td>
                    <td data-bind="text: inCache ? $data.hltbInfo.name : 'Not in cache, try again later'"></td>
                    <td>
                        <input type="text" data-bind="visible: inCache, value: known ? $data.hltbInfo.id : ''" placeholder="Please update!" />
                    </td>
                    <td>
                        <button data-bind="click: $parent.updateHltb, visible: inCache">Update</button>
                        <a data-bind="visible: inCache, text: $data.hltbInfo.linkText, attr: {href: $data.hltbInfo.url}" target="_blank"></a>
                    </td>
                    <td></td>
                </tr>
                <!-- /ko -->
                <tr class="info">
                    <th>Total</th>
                    <th></th>
                    <th data-bind="text: formatDuration(total().totalPlaytime)"></th>
                    <th data-bind="text: formatDuration(total().totalMain)"></th>
                    <th data-bind="text: formatDuration(total().totalExtras)"></th>
                    <th data-bind="text: formatDuration(total().totalCompletionist)"></th>
                    <th data-bind="text: formatDuration(total().totalCombined)"></th>
                </tr>
                <tr class="info">
                    <th>Remaining</th>
                    <th></th>
                    <th></th>
                    <th data-bind="text: formatDuration(total().mainRemaining)"></th>
                    <th data-bind="text: formatDuration(total().extrasRemaining)"></th>
                    <th data-bind="text: formatDuration(total().completionistRemaining)"></th>
                    <th data-bind="text: formatDuration(total().combinedRemaining)"></th>
                </tr>
            </tbody>
        </table>
        <footer>
            <a href="https://azure.microsoft.com/" target="_blank">Powered by Azure.</a>
            <a href="http://steampowered.com" target="_blank">Powered by Steam.</a>
            <br/>
            Copyright Ohad Schneider (c) 2014
        </footer>
        <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.1.min.js"></script>
        <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-3.1.0.js"></script>
        <script type="text/javascript" src="Scripts/app.min.js"></script>
    </body>
</html>
